### 一、什么是TF-IDF算法

TF-IDF算法是一种统计方法，用以评估一字词对于一个文件集或一个[语料库](https://so.csdn.net/so/search?q=%E8%AF%AD%E6%96%99%E5%BA%93&spm=1001.2101.3001.7020)中的其中一份文件的重要程度。字词的重要性随着它在文件中出现的次数成正比增加，但同时会随着它在语料库中出现的频率成反比下降。TF-IDF加权的各种形式常被搜索引擎应用，作为文件与用户查询之间相关程度的度量或评级。除了TF-IDF以外，因特网上的搜索引擎还会使用基于链接分析的评级方法，以确定文件在搜寻结果中出现的顺序。

![](https://img-blog.csdnimg.cn/img_convert/7e0a6969191ec1f558c35c93bad557cc.png)

从事SEO行业时间比较长的人应该都听说过TF-IDF算法，TF-IDF算法属于搜索引擎中的核心部分。TF-IDF算法是增加相关词的覆盖率，以及高优布局关键词密度，从而在百度谷歌等搜索引擎内容质量这一项上的排名加分，获取超高分值。下面是TF-IDF公式

![](https://img-blog.csdnimg.cn/img_convert/32d62fb60340d51e89796ac77dcaf48d.png)

大家看了定义之后跟我一样是懵的吧，为了便于大家理解，我们来举一个简单易懂的例子。

假如说我们在百度上搜索“水果”这个词，百度爬虫抓取的网站内容有下面5个，你觉得哪个内容排名第一？

*   内容1： 水果有水果，水果，水果，水果，水果
*   内容2： 水果有苹果，桃子，西瓜，菠萝，梨子
*   内容3： 蔬菜都很好吃，我最爱吃茄子了
*   内容4： 苹果，梨子都是很好吃的水果
*   内容5：好吃的水果有西瓜，苹果，葡萄，其他水果还有菠萝，猕猴桃

相信很多人心里面有了答案，大家凭直觉，内容2 跟内容5 应该排名靠前，内容5很可能是第1，内容2是排名第2。

最终的排名顺序为52413，至于为什么呢？核心词为“水果”，5和2里都有“水果”和“苹果”两个关键词且5里有出现两次“水果”，4比2少了一个苹果关键词，1里面包括有“水果”这个关键词但有堆砌行为，3和核心词没有相关性。

其实按照TF-IDF算法也能得出这个结论，那么TF-IDF是怎么做的，请大家跟上我的步伐。

### 二、TF-IDF算法的计算步骤

第1步：计算逆文档频率

我们先统计各个词语被包含的文章数。比如“水果”被4篇文章（内容1、2、4、5）引用，4就是“水果”的逆文档频率。

分词后，各个单词的逆文档频率如下：

水果=4、苹果=3、好吃=2、菠萝=2、西瓜=2、梨子=2，桃子=1、猕猴桃=1、蔬菜=1，茄子=1

![](https://img-blog.csdnimg.cn/img_convert/b0e842089b927abaf245a4a0d8c2347a.png)

PS: IDF= log(语料库中的文件总数 / 包含词语 t 的文件数目)，为了便于理解，这里做了精简。

按照我们的直觉，如果一篇文章把逆文档频率最高的前面的词都包含了，说明这篇文章内容更贴合用户意图，更受到搜索引擎喜欢。回到例子，”水果、苹果”是本例中重要性最高的2个词，如果内容中包含“水果、苹果”，那么这篇内容质量就越好。

所以把包含“水果、苹果”的内容拿出来，就是比较靠谱的内容了：

*   内容2： 水果有苹果，桃子，西瓜，菠萝，梨子
*   内容4： 苹果，梨子都是很好吃的水果
*   内容5： 好吃的水果有西瓜，苹果，葡萄，其他水果还有菠萝，猕猴桃

第2步：计算词频(TF)

我们把内容1、内容3砍掉了，剩下的内容2、内容4、内容5怎么排序。我们想一下，一个词语在内容中出现的次数越高，也说明这个词语对这篇文章更重要。回到本例，“水果”是我们的核心词，那么因为内容5中出现“水果”两次，内容2、内容4次数是1，那么内容5胜出。最后的排序结果如下

*   内容5： 好吃的水果有西瓜，苹果，葡萄，其他水果还有菠萝，猕猴桃 （第一名）
*   内容2： 水果有苹果，桃子，西瓜，菠萝，梨子（第二名）
*   内容4： 苹果，梨子都是很好吃的水果（第三名）
*   _内容1： 水果有水果，水果，水果，水果，水果（相关度不够，被剔除）_
*   _内容3： 蔬菜都很好吃，我最爱吃茄子了（ 相关度不够，被剔除 ）_

以上是砍了又砍的TF-IDF算法简化解读版，真实的TFIDF算法比这个要正规复杂很多，这里只是让大家get到重点。

### 三、TF-IDF对SEO优化的重要性

TF-IDF对SEO非常！

我们可以看到，TFIDF算法，不仅可以衡量关键词对页面的重要性，更能衡量文章的广度相关性。对于百度、google来说，TFIDF算法的出现屏蔽了一大批用关键词密度来获取排名的SEO小白，同时提升了搜索质。

百度百科里面说了：“除了TF-IDF以外，因特网上的搜索引擎还会使用基于链接分析的评级方法，以确定文件在搜寻结果中出现的顺序”。意思是什么？你排名可以由下面的公式决定。文章得分=TFIDF得分+链接得分，这说明百度搜索引擎在用TFIDF！

1、百度在用TFIDF算法

百度专利中使用TFIDF的实锤，请查看百度专利文档《CN102737018A-基于非线性统一权值对检索结果进行排序的方法及装置-公开》。搜索算法来去匆匆，百度算法更新迭代也非常快，但是TFIDF算法有点不同，它是目前最核心的搜索算法之一。

![](https://img-blog.csdnimg.cn/img_convert/a3d1957721c7dc5117883a42eabd24cb.png)

2、TFIDF得分比重极高

如果搜索引擎确定使用TF-IDF对网页内容作为评判质量的因子，那么这个比重有多大？码迷知道，现在的搜索引擎一般用如下的算法计算网站页面得分：score(页面得分) = TFIDF分 \* x + 链接分 \* y + 用户体验分 \* z（其中x+y+z=100%;）;

![](https://img-blog.csdnimg.cn/img_convert/f369b3c73e095ce883fa11734fb46afd.png)

大约在2G左右的谷歌搜索资料中，我们做了人工智能训练，预测TFIDF分值大约占百度40%左右的权重，谷歌更是达到了50%。

链接分，通过朋友透露，权重大约占百度20%左右，谷歌尚不清楚。

用户体验得分的比率，百度在40%左右。

所以说，做SEO优化：**排名得分=40%的内容质量相关性（TFIDF）+40%的用户体验分+20%的链接分（域名+外链）**，TFIDF的确是较为关键的一部分。