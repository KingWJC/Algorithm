## 链表问题

面试时链表解题的方法论 

1) 对于笔试，不用太在乎空间复杂度，一切为了时间复杂度

2) 对于面试，时间复杂度依然放在第一位，但是一定要找到空间最省的方法

链表面试题常用数据结构和技巧

1. 使用容器(哈希表、数组等)

2. 快慢指针


## 快慢指针

1）输入链表头节点，奇数长度返回中点，偶数长度返回上中点

2）输入链表头节点，奇数长度返回中点，偶数长度返回下中点

3）输入链表头节点，奇数长度返回中点前一个，偶数长度返回上中点前一个

4）输入链表头节点，奇数长度返回中点前一个，偶数长度返回下中点前一个

`注意边界条件`

- 输入链表头节点，奇数长度返回唯一中点，偶数长度返回上中点

```java
// head 头
public static Node midOrUpMidNode(Node head) {
    if (head == null || head.next == null || head.next.next == null) {
        return head;
    }
    // 链表有3个点或以上
    Node slow = head.next;
    Node fast = head.next.next;
    while (fast.next != null && fast.next.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    return slow;
}
```

- 输入链表头节点，奇数长度返回中点，偶数长度返回下中点

```java
public static Node midOrDownMidNode(Node head) {
    if (head == null || head.next == null) {
        return head;
    }
    Node slow = head.next;
    Node fast = head.next;
    while (fast.next != null && fast.next.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    return slow;
}
```

- 输入链表头节点，奇数长度返回中点前一个，偶数长度返回上中点前一个

```java
public static Node midOrUpMidPreNode(Node head) {
    if (head == null || head.next == null || head.next.next == null) {
        return null;
    }
    Node slow = head;
    Node fast = head.next.next;
    while (fast.next != null && fast.next.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    return slow;
}
```

- 输入链表头节点，奇数长度返回中点前一个，偶数长度返回下中点前一个

```java
public static Node midOrDownMidPreNode(Node head) {
    if (head == null || head.next == null) {
        return null;
    }
    if (head.next.next == null) {
        return head;
    }
    Node slow = head;
    Node fast = head.next;
    while (fast.next != null && fast.next.next != null) {
        slow = slow.next;
        fast = fast.next.next;
    }
    return slow;
}
```

## 常见链表面试题

- 给定一个单链表的头节点head，请判断该链表是否为回文结构。

  1. 哈希表方法特别简单（笔试用）

  2. 改原链表的方法就需要注意边界了（面试用）

- 将单向链表按某值划分成左边小、中间相等、右边大的形式

  1. 把链表放入数组里，在数组上做partition（笔试用）

  2. 分成小、中、大三部分，再把各个部分之间串起来（面试用）

- [[链表改序问题]]

- 深度复制带有rand指针的链表:

  ```java
  // 一种特殊的单链表节点类描述如下 
  class Node { 
      int value; 
      Node next; 
      Node rand; 
      Node(int val) { value = val; } 
  } 
  ```

  rand指针是单链表节点结构中新增的指针，rand可能指向链表中的任意一个节点，也可能指向null。

  给定一个由Node节点类型组成的无环单链表的头节点 head，请实现一个函数完成这个链表的复制，并返回复制的新链表的头节点。

  【要求】时间复杂度O(N)，额外空间复杂度O(1) 

- 两个可能有环的单链表相交的第一个节点

  给定两个可能有环也可能无环的单链表，头节点head1和head2。请实现一个函数，如果两个链表相交，请返回相交的 第一个节点。如果不相交，返回null 

  【要求】如果两个链表长度之和为N，时间复杂度请达到O(N)，额外空间复杂度 请达到O(1)。 

  能不能不给单链表的头节点，只给想要删除的节点，就能做到在链表上把这个点删掉？